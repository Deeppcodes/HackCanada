<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mock Mate</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white">
    <div class="container mx-auto p-8">
        <div class="flex items-center mb-4 bg-gray-700 p-4 rounded-lg">
            <!-- <img src="images/logo.png" alt="Logo" style="width: 100px; height: 100px;" class="mr-4"> -->
            <h1 class="text-3xl font-bold">Mate Mock</h1>
        </div>

        <div id="welcomeContainer" class="mb-8 p-20 mx-auto text-center">
            <h1 id="welcomeLine1" class="text-gray-400 font-bold text-3xl"></h1>
            <h2 id="welcomeLine2" class="text-gray-400 font-bold text-xl mt-4"></h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div class="bg-gray-800 p-6 rounded-lg">
                <h2 class="text-xl font-semibold mb-4">üì∏ Live Camera</h2>
                <video id="liveCamera" class="bg-black w-full h-60 rounded mb-4" autoplay></video>
                <button id="startStopRecording" class="w-full bg-gray-700 py-2 px-4 rounded hover:bg-gray-600 border-2 border-gray-500 hover:border-red-500 focus:border-red-500 transition-all">
                    ‚ñ∂ Start Recording
                </button>
                <button id="retryRecording" class="w-full bg-gray-700 py-2 px-4 rounded mt-4 hover:bg-gray-600 border-2 border-gray-500 hover:border-yellow-500 focus:border-yellow-500 flex items-center justify-center transition-all">
                    üîÅ Retry
                </button>
            </div>

            <div class="bg-gray-800 p-6 rounded-lg">
                <h2 class="text-xl font-semibold mb-4">Transcription</h2>
                <textarea id="transcription" class="w-full h-60 p-4 bg-gray-700 rounded resize-none" placeholder="Transcript will appear here..." readonly></textarea>
                <button id="getFeedback" class="w-full bg-gray-700 py-2 px-4 rounded mt-4 hover:bg-gray-600 border-2 border-gray-500 hover:border-red-500 focus:border-red-500 flex items-center justify-center transition-all">
                    <img src="https://registry.npmmirror.com/@lobehub/icons-static-png/1.24.0/files/dark/gemini-color.png" alt="Gemini AI Icon" class="w-6 h-6 mr-2"> Get Feedback
                </button>
                <div id="feedback" class="mt-4 bg-gray-700 p-4 rounded text-white hidden"></div>
            </div>
        </div>

        <div class="mt-12 p-6 bg-gray-800 rounded-lg">
            <h3 class="text-2xl font-semibold mb-4">About us</h3>
            <p class="mb-4">
                We help you make the best impression possible with employers. Upload a video of your self-introduction and receive genuine, unbiased feedback that helps you improve.
            </p>
            <ul class="list-disc pl-6 space-y-2">
                <li>Record your introduction using our easy-to-use interface</li>
                <li>Get instant AI-powered feedback on your presentation</li>
                <li>Improve your delivery based on actionable insights</li>
            </ul>
        </div>
    </div>

    <script>
        const liveCamera = document.getElementById('liveCamera');
        const startStopButton = document.getElementById('startStopRecording');
        const retryButton = document.getElementById('retryRecording');
        const transcriptArea = document.getElementById('transcription');
        const getFeedbackButton = document.getElementById('getFeedback');
        const feedbackBox = document.getElementById('feedback');
        const welcomeLine1 = document.getElementById('welcomeLine1');
        const welcomeLine2 = document.getElementById('welcomeLine2');

        let mediaRecorder;
        let isRecording = false;
        let chunks = [];

        // Typing animation for welcome message
        const welcomeMessage1 = "Welcome to our platform!";
        const welcomeMessage2 = "Record your introduction and get AI-powered feedback.";
        let charIndex1 = 0;
        let charIndex2 = 0;

        function typeWelcomeMessage() {
            if (charIndex1 < welcomeMessage1.length) {
                welcomeLine1.textContent += welcomeMessage1.charAt(charIndex1);
                charIndex1++;
                setTimeout(typeWelcomeMessage, 50);
            } else if (charIndex2 < welcomeMessage2.length) {
                welcomeLine2.textContent += welcomeMessage2.charAt(charIndex2);
                charIndex2++;
                setTimeout(typeWelcomeMessage, 50);
            }
        }
        typeWelcomeMessage();

        // Access the user's camera
        navigator.mediaDevices.getUserMedia({ video: true })
            .then((stream) => {
                liveCamera.srcObject = stream;
            })
            .catch((error) => {
                console.error('Error accessing camera:', error);
            });

        // Start/Stop recording
        startStopButton.addEventListener('click', () => {
            if (isRecording) {
                mediaRecorder.stop();
                startStopButton.textContent = '‚ñ∂ Start Recording';
                startStopButton.classList.remove('bg-red-600', 'hover:bg-red-500');
            } else {
                chunks = [];
                mediaRecorder = new MediaRecorder(liveCamera.srcObject);
                mediaRecorder.ondataavailable = (event) => {
                    chunks.push(event.data);
                };
                mediaRecorder.onstop = () => {
                    const blob = new Blob(chunks, { type: 'video/webm' });
                    transcriptArea.value = "Transcription will be generated from the video.";
                };
                mediaRecorder.start();
                startStopButton.textContent = '‚ùö‚ùö Stop Recording';
                startStopButton.classList.add('bg-red-600', 'hover:bg-red-500');
            }
            isRecording = !isRecording;
        });
        // Show feedback on button click
        getFeedbackButton.addEventListener('click', () => {
            feedbackBox.classList.remove('hidden');
            feedbackBox.textContent = "Here‚Äôs your feedback! üéØ (Simulated feedback for now)";
¬†¬†¬†¬†¬†¬†¬†¬†});

        // Retry recording
        retryButton.addEventListener('click', () => {
            transcriptArea.value = "";
            feedbackBox.classList.add('hidden');
        });
    </script>
</body>
</html>